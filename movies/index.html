<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>🎬 YACHTS MOVIES</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<style>
  :root{
    --bg-dark:#0a0014;
    --panel-dark:#12001f;
    --accent:#b84dff;
    --accent-strong:#a200ff;
    --muted:#ccc;
    --light-bg:#f5f5f7;
    --light-panel:#fff;
    --light-text:#0b0b0b;
    --card-dark:#12001f;
    --card-light:#ffffff;
    --glass: rgba(255,255,255,0.04);
    --success: #22c55e;
    --warning: #f59e0b;
    
    /* Dark theme variables */
    --dark-bg:#0f0f0f;
    --dark-panel:#1a1a1a;
    --dark-accent:#6b7280;
    --dark-accent-strong:#4b5563;
    --dark-card:#1f1f1f;
  }

  /* Dark theme class */
  body.dark{
    --bg-dark: var(--dark-bg);
    --panel-dark: var(--dark-panel);
    --accent: var(--dark-accent);
    --accent-strong: var(--dark-accent-strong);
    --card-dark: var(--dark-card);
    background: var(--dark-bg);
  }
  body.dark .brand{color:var(--dark-accent-strong)}
  body.dark .brand-title h1{background:linear-gradient(135deg,var(--dark-accent),var(--dark-accent-strong));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}

  /* Base */
  html,body{height:100%;margin:0;font-family:"Poppins",sans-serif;background:var(--bg-dark);color:#fff;transition:background 0.35s,color 0.35s;scroll-behavior:smooth}
  body.light{background:var(--light-bg);color:var(--light-text)}

  /* Improved loading states */
  .loading{opacity:0.5;pointer-events:none;position:relative}
  .loading::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.1),transparent);animation:shimmer 1.5s infinite}
  @keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}

  /* Hidden sidebar trigger (small visible strip) */
  .sidebar-trigger{
    position:fixed;left:0;top:40%;width:16px;height:120px;background:linear-gradient(180deg,var(--accent),var(--accent-strong));
    border-top-right-radius:8px;border-bottom-right-radius:8px;z-index:1600;cursor:pointer;
    box-shadow:2px 2px 14px rgba(0,0,0,0.35);opacity:0.85;transition:opacity 0.3s,transform 0.3s;
  }
  .sidebar-trigger:hover{opacity:1;transform:translateX(2px)}
  body.light .sidebar-trigger{box-shadow:2px 2px 10px rgba(0,0,0,0.08)}

  /* Sidebar - slides out when hovered or when .visible class added by JS */
  .sidebar{
    position:fixed;left:-240px;top:0;height:100vh;width:240px;padding:18px;
    background:linear-gradient(180deg,#1a0033,#0a0014);
    backdrop-filter:blur(20px);
    box-shadow:2px 0 25px rgba(150,0,255,0.25);z-index:1700;transition:left .32s cubic-bezier(.2,.9,.2,1);
    display:flex;flex-direction:column;gap:12px;
  }
  .sidebar.visible{left:0}
  body.light .sidebar{background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(240,240,240,0.95));box-shadow:2px 0 20px rgba(0,0,0,0.08)}
  .sidebar .brand{font-family:"Orbitron",sans-serif;font-size:1.3rem;color:var(--accent-strong);text-shadow:0 0 8px rgba(162,0,255,0.15)}
  .nav-item{display:flex;align-items:center;gap:12px;padding:10px 8px;border-radius:10px;color:var(--muted);text-decoration:none;cursor:pointer;transition:all 0.2s}
  .nav-item:hover{color:#fff;background:rgba(255,255,255,0.08);transform:translateX(4px)}
  body.light .nav-item{color:#333}
  body.light .nav-item:hover{background:rgba(0,0,0,0.05)}
  .nav-item .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 8px rgba(184,77,255,0.3);transition:all 0.2s}
  .nav-item:hover .dot{box-shadow:0 0 12px rgba(184,77,255,0.6)}
  .nav-item.active{background:linear-gradient(90deg,rgba(184,77,255,0.15),rgba(162,0,255,0.08));color:#fff;border:1px solid rgba(184,77,255,0.2)}

  /* Main area */
  .main{
    margin-left:20px; /* small margin so sidebar-trigger doesn't overlap content */
    padding:20px;transition:margin-left .3s;
  }
  .header{
    display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:24px;
    padding-bottom:16px;border-bottom:1px solid rgba(255,255,255,0.05);
  }
  body.light .header{border-bottom:1px solid rgba(0,0,0,0.08)}
  .brand-title{display:flex;align-items:center;gap:12px}
  .brand-title h1{font-family:"Orbitron",sans-serif;margin:0;font-size:1.8rem;text-shadow:0 0 12px rgba(184,77,255,0.12);background:linear-gradient(135deg,var(--accent),var(--accent-strong));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
  body.light .brand-title h1{text-shadow:none;color:var(--light-text);-webkit-text-fill-color:var(--light-text)}
  .controls{display:flex;align-items:center;gap:12px}
  input.search{padding:10px 16px;border-radius:25px;border:none;outline:none;background:var(--panel-dark);color:#fff;box-shadow:0 0 8px rgba(180,0,255,0.12);transition:all 0.3s;min-width:200px}
  input.search:focus{box-shadow:0 0 16px rgba(180,0,255,0.25);background:rgba(18,0,31,0.8)}
  input.search::placeholder{color:rgba(255,255,255,0.5)}
  body.light input.search{background:#eee;color:var(--light-text);box-shadow:0 2px 8px rgba(0,0,0,0.05)}
  body.light input.search:focus{box-shadow:0 2px 16px rgba(0,0,0,0.1)}
  body.light input.search::placeholder{color:rgba(0,0,0,0.5)}

  .icon-btn{background:transparent;border:0;color:inherit;font-size:1.2rem;cursor:pointer;padding:10px;border-radius:10px;transition:all 0.2s}
  .icon-btn:hover{background:rgba(255,255,255,0.08);transform:scale(1.05)}
  body.light .icon-btn:hover{background:rgba(0,0,0,0.05)}

  /* Enhanced movies grid */
  .movies-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;margin-top:10px}
  .movie-card{
    background:var(--card-dark);border-radius:16px;overflow:hidden;cursor:pointer;
    box-shadow:0 8px 25px rgba(0,0,0,0.4);transition:all .3s cubic-bezier(.2,.9,.2,1);
    display:flex;flex-direction:column;align-items:stretch;text-align:center;position:relative;
  }
  body.light .movie-card{background:var(--card-light);box-shadow:0 8px 25px rgba(20,20,20,0.08)}
  .movie-card::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(184,77,255,0.1),transparent);opacity:0;transition:opacity 0.3s;pointer-events:none;border-radius:16px}
  .movie-card:hover::before{opacity:1}
  .movie-card img{width:100%;height:280px;object-fit:cover;display:block;border-bottom:1px solid rgba(255,255,255,0.03);transition:transform 0.3s}
  .movie-card:hover img{transform:scale(1.05)}
  body.light .movie-card img{border-bottom:1px solid rgba(0,0,0,0.06)}
  .movie-info{padding:16px;background:inherit}
  .movie-title{font-weight:600;font-size:1rem;color:#fff;margin-bottom:8px;line-height:1.3}
  body.light .movie-title{color:var(--light-text)}
  .rating{font-size:0.9rem;color:gold;margin-top:6px;display:flex;align-items:center;justify-content:center;gap:2px}

  .movie-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 25px 50px rgba(168,77,255,0.2)}
  body.no-animations .movie-card, body.no-animations .sidebar, body.no-animations .modal{transition:none;animation:none}
  .hidden{display:none !important}

  /* Enhanced modal player */
  .modal{
    position:fixed;inset:0;background:rgba(0,0,0,0.9);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:2000;opacity:0;pointer-events:none;
    transition:all .3s;
  }
  .modal.open{opacity:1;pointer-events:auto}
  .modal .player{
    width:90%;max-width:1200px;height:70%;background:#000;border-radius:16px;overflow:hidden;box-shadow:0 30px 60px rgba(0,0,0,0.8);
    transform:scale(0.9);transition:transform 0.3s;border:1px solid rgba(184,77,255,0.2);
  }
  .modal.open .player{transform:scale(1)}
  .modal iframe{width:100%;height:100%;border:0}
  .modal .close{position:absolute;right:30px;top:20px;font-size:32px;color:#fff;cursor:pointer;text-shadow:0 0 10px rgba(162,0,255,0.6);transition:all 0.2s;background:rgba(0,0,0,0.5);width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center}
  .modal .close:hover{transform:scale(1.1);background:rgba(162,0,255,0.2)}
  body.light .modal .close{color:#111;text-shadow:none;background:rgba(255,255,255,0.9)}

  /* Enhanced settings drawer */
  .settings-drawer{
    position:fixed;right:-340px;top:80px;width:320px;background:var(--panel-dark);padding:24px;border-radius:16px;box-shadow:0 15px 50px rgba(0,0,0,0.6);z-index:2100;transition:right .4s cubic-bezier(.2,.9,.2,1);
    backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.05);
  }
  .settings-drawer.open{right:20px}
  body.light .settings-drawer{background:rgba(255,255,255,0.95);box-shadow:0 15px 50px rgba(0,0,0,0.1);border:1px solid rgba(0,0,0,0.08)}
  .settings-drawer h3{font-family:"Orbitron",sans-serif;margin:0 0 16px 0;color:var(--accent)}
  .settings-drawer label{display:block;margin-top:16px;font-size:0.95rem;color:var(--muted)}
  .settings-drawer input[type="range"]{width:100%;margin-top:8px}
  .settings-drawer button{transition:all 0.2s}
  .settings-drawer button:hover{transform:translateY(-1px)}

  /* Status indicators */
  .status{display:inline-flex;align-items:center;gap:6px;font-size:0.85rem;padding:4px 8px;border-radius:6px;font-weight:500}
  .status.online{color:var(--success);background:rgba(34,197,94,0.1)}
  .status.loading{color:var(--warning);background:rgba(245,158,11,0.1)}

  /* Small responsive improvements */
  @media (max-width:900px){
    .movies-grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:16px}
    .main{padding:16px}
    .modal .player{width:95%;height:60%}
  }
  @media (max-width:600px){
    .movies-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}
    .sidebar{display:none}
    .sidebar-trigger{display:none}
    .main{margin-left:0;padding:12px}
    .header{flex-direction:column;gap:16px;align-items:stretch}
    .controls{justify-content:center}
    input.search{min-width:auto;width:100%}
  }

  /* Subtle accent glow for clickable icons */
  .accent-glow{box-shadow:0 0 18px rgba(184,77,255,0.09) inset}

  /* Page transitions */
  .page{opacity:0;transform:translateY(20px);transition:all 0.4s ease-out}
  .page:not(.hidden){opacity:1;transform:translateY(0)}

  /* Focus styles for accessibility */
  .nav-item:focus, .icon-btn:focus, .movie-card:focus{outline:2px solid var(--accent);outline-offset:2px}
</style>
</head>
<body>
  <!-- sidebar trigger (thin visible strip) -->
  <div class="sidebar-trigger" id="sidebarTrigger" title="Open menu"></div>

  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar" aria-label="Main navigation">
    <div class="brand">YACHTS MOVIES</div>

    <div class="nav-item active" data-target="new" tabindex="0">
      <div class="dot"></div>
      <div>New / Updates</div>
    </div>

    <div class="nav-item" data-target="movies" tabindex="0">
      <div class="dot"></div>
      <div>Movies</div>
    </div>

    <div class="nav-item" data-target="donate" tabindex="0">
      <div class="dot"></div>
      <div>Donate</div>
    </div>

    <div class="nav-item" data-target="settings" tabindex="0">
      <div class="dot"></div>
      <div>Settings</div>
    </div>

    <div style="flex:1"></div>
    <div class="status online">
      <span style="width:8px;height:8px;background:var(--success);border-radius:50%;animation:pulse 2s infinite"></span>
      Online
    </div>
    <div style="font-size:0.85rem;color:var(--muted);margin-top:8px">v1.2 • enhanced</div>
  </nav>

  <!-- Main content -->
  <main class="main" id="main">
    <header class="header">
      <div class="brand-title">
        <h1>YACHTS MOVIES</h1>
      </div>

      <div class="controls">
        <input class="search" id="search" placeholder="Search movies..." />
        <button class="icon-btn" id="openSettingsBtn" title="Open settings">⚙</button>
      </div>
    </header>

    <!-- Top area: dynamic content (New, Movies, Donate, Settings) -->
    <section id="contentArea">
      <!-- NEW / UPDATES -->
      <div id="newSection" class="page">
        <h2 style="margin:0 0 12px;font-family:Orbitron;color:var(--accent)">New / Updates</h2>
        <p style="color:var(--muted);margin-top:6px;line-height:1.6">Latest uploads, fixes, and site enhancements.</p>
        <div style="margin-top:20px;padding:16px;background:rgba(184,77,255,0.05);border-radius:12px;border-left:4px solid var(--accent)">
          <ul style="margin:0;color:var(--muted);line-height:1.8;list-style:none;padding:0">
            <li style="margin-bottom:8px">✨ <strong>New:</strong> Jurassic Park Rebirth (1080p) — uploaded</li>
            <li style="margin-bottom:8px">🎨 <strong>UI:</strong> Enhanced animations & visual polish</li>
            <li style="margin-bottom:8px">🎯 <strong>UX:</strong> Better responsive design & accessibility</li>
            <li>🔧 <strong>Now:</strong> Improved hover effects & loading states</li>
          </ul>
        </div>
      </div>

      <!-- MOVIES -->
      <div id="moviesSection" class="page hidden">
        <h2 style="margin:0 0 12px;font-family:Orbitron;color:var(--accent)">Movies</h2>
        <p style="color:var(--muted);margin-top:6px;margin-bottom:20px;line-height:1.6">Click any movie card to start watching instantly.</p>

        <div class="movies-grid" id="moviesGrid">
          <!-- Movie cards restored from your list -->
          <div class="movie-card" data-src="https://mega.nz/embed/TNUg1JxQ#MUoDG9AqW7AV-JoTDpqPwZDfKcvp-34xacTCyXKy2Z8" tabindex="0">
            <img src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.impawards.com%2F2025%2Fposters%2Fjurassic_world_rebirth_ver6.jpg&f=1&nofb=1&ipt=72f2a3274d1d9183f2ef28d223ca09c6e2346dc7a26e2d1bbfd9aa2358d69e18" alt="Jurassic Park Rebirth" />
            <div class="movie-info">
              <div class="movie-title">Jurassic Park Rebirth</div>
              <div class="rating">⭐⭐⭐⭐☆</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/HFslzYKB#ESA1jEoAV7uoSKri7KRPp62SCBAGkm-SIrAIkca4gnE" tabindex="0">
            <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwallpapercave.com%2Fwp%2Fwp14534908.jpg&f=1&nofb=1&ipt=3c0c8021f2a3be0ae2846999f9627161757f38d892c79bee50b51db42177a741" alt="Minecraft Movie" />
            <div class="movie-info">
              <div class="movie-title">A Minecraft Movie</div>
              <div class="rating">⭐⭐⭐☆☆</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/HBsAwRTA#KUm8WifABPMvVx9zn6OTE8WNFjoStXrZNzsgMYqacUs" tabindex="0">
            <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.themoviedb.org%2Ft%2Fp%2Foriginal%2FhCM8E8YKzJTkZ9Ts574aNZOiJLL.jpg&f=1&nofb=1&ipt=7c6545c152fc3ed384755eb4f0f34b414ec62ecdba53295d38c03f3aa8f2a42c" alt="The Curse of Black Pearl" />
            <div class="movie-info">
              <div class="movie-title">The Curse of Black Pearl</div>
              <div class="rating">⭐⭐⭐⭐⭐</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/bA0kjKrY#06CFHtUrDmoEfFDtazbcoHnhutBQjHxWsy98vpjVzr8" tabindex="0">
            <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fm.media-amazon.com%2Fimages%2FM%2FMV5BMTkyMjQ4ODk1NF5BMl5BanBnXkFtZTcwMjcxMTk2Mw%40%40._V1_FMjpg_UY2048_.jpg&f=1&nofb=1&ipt=3550c9b10fdbb9527fe552a76d24814bbbfad3443fe25c47b871cbfa98225b98" alt="The Dark Knight 2008" />
            <div class="movie-info">
              <div class="movie-title">The Dark Knight 2008</div>
              <div class="rating">⭐⭐⭐⭐⭐</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/edcSyDrQ#SV-oMjMZJJQvNhQ65vapF2WAHGGGjXj6kcUTxzUNnqI" tabindex="0">
            <img src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fjaysbrickblog.com%2Fwp-content%2Fuploads%2F2014%2F03%2FThe-LEGO-Movie-Poster-2.jpg&f=1&nofb=1&ipt=fbf0278035ebdcf80169dc0a051b5746375a7f70fa2f0c86b4a1a687b6c1aab0" alt="The Lego Movie" />
            <div class="movie-info">
              <div class="movie-title">The Lego Movie</div>
              <div class="rating">⭐⭐⭐⭐☆</div>
            </div>
          </div>

          <!-- Adventure & Fantasy restored -->
          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE3#somehashhere" tabindex="0">
            <img src="https://upload.wikimedia.org/wikipedia/en/d/d7/Harry_Potter_and_the_Sorcerer%27s_Stone_poster.jpg" alt="Harry Potter and the Sorcerer's Stone" />
            <div class="movie-info">
              <div class="movie-title">Harry Potter and the Sorcerer's Stone</div>
              <div class="rating">⭐⭐⭐⭐⭐</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE4#somehashhere" tabindex="0">
            <img src="https://upload.wikimedia.org/wikipedia/en/7/79/Percy_Jackson_&_the_Olympians_-_The_Lightning_Thief.jpg" alt="Percy Jackson" />
            <div class="movie-info">
              <div class="movie-title">Percy Jackson &amp; the Olympians</div>
              <div class="rating">⭐⭐⭐⭐☆</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE5#somehashhere" tabindex="0">
            <img src="https://upload.wikimedia.org/wikipedia/en/c/cf/The_Maze_Runner_film_poster.jpg" alt="The Maze Runner" />
            <div class="movie-info">
              <div class="movie-title">The Maze Runner</div>
              <div class="rating">⭐⭐⭐⭐☆</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE6#somehashhere" tabindex="0">
            <img src="https://upload.wikimedia.org/wikipedia/en/c/c6/Doctor_Strange_in_the_Multiverse_of_Madness_poster.jpg" alt="Doctor Strange" />
            <div class="movie-info">
              <div class="movie-title">Doctor Strange: Multiverse</div>
              <div class="rating">⭐⭐⭐⭐☆</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE7#somehashhere" tabindex="0">
            <img src="https://upload.wikimedia.org/wikipedia/en/1/14/The_Chronicles_of_Narnia_The_Lion_the_Witch_and_the_Wardrobe_poster.jpg" alt="Narnia" />
            <div class="movie-info">
              <div class="movie-title">The Chronicles of Narnia</div>
              <div class="rating">⭐⭐⭐⭐⭐</div>
            </div>
          </div>
        </div>
      </div>

      <!-- DONATE -->
      <div id="donateSection" class="page hidden">
        <h2 style="margin:0 0 16px;font-family:Orbitron;color:var(--accent)">Support YACHTS MOVIES</h2>
        <p style="color:var(--muted);margin-bottom:24px;line-height:1.6">Help keep our servers running and content fresh. Send crypto to any address below:</p>
        
        <div style="display:grid;gap:16px;max-width:600px">
          <div style="background:var(--panel-dark);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.05)">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
              <span style="color:var(--accent);font-weight:600">Bitcoin (BTC)</span>
            </div>
            <input readonly value="bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh" style="width:100%;padding:8px 12px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#fff;font-family:monospace;font-size:0.9rem" onclick="this.select();navigator.clipboard.writeText(this.value);showCopyFeedback(this)" />
          </div>
          
          <div style="background:var(--panel-dark);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.05)">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
              <span style="color:var(--accent);font-weight:600">Ethereum (ETH)</span>
            </div>
            <input readonly value="0x742d35cc6bf5532c3c8a8f1e65b7f5e7e5f8e9a1" style="width:100%;padding:8px 12px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#fff;font-family:monospace;font-size:0.9rem" onclick="this.select();navigator.clipboard.writeText(this.value);showCopyFeedback(this)" />
          </div>
          
          <div style="background:var(--panel-dark);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.05)">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
              <span style="color:var(--accent);font-weight:600">Litecoin (LTC)</span>
            </div>
            <input readonly value="LQTpS9F9dq5GZk8c5j7qCX7k1k2m3n4o5p6q7r8s9t" style="width:100%;padding:8px 12px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#fff;font-family:monospace;font-size:0.9rem" onclick="this.select();navigator.clipboard.writeText(this.value);showCopyFeedback(this)" />
          </div>
        </div>
        
        <p style="color:var(--muted);font-size:0.9rem;margin-top:16px">💡 Click any address to copy to clipboard</p>
      </div>

      <!-- SETTINGS (inline info also available via settings drawer) -->
      <div id="settingsSection" class="page hidden">
        <h2 style="margin:0 0 12px;font-family:Orbitron;color:var(--accent)">Settings</h2>
        <p style="color:var(--muted);margin-top:6px;line-height:1.6">Customize your viewing experience using the settings panel (⚙ button) or the options below.</p>
        <div style="margin-top:20px;padding:16px;background:rgba(255,255,255,0.02);border-radius:12px">
          <p style="color:var(--muted);margin:0">Click the gear icon in the header to access theme, animation, and font size controls.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal player -->
  <div class="modal" id="modal" role="dialog" aria-hidden="true">
    <div class="player" id="playerWrapper">
      <iframe id="moviePlayer" allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups"></iframe>
    </div>
    <div class="close" id="modalClose" title="Close player">&times;</div>
  </div>

  <!-- Settings drawer -->
  <aside class="settings-drawer" id="settingsDrawer" aria-hidden="true">
    <h3>Settings</h3>

    <label>Theme
      <div style="margin-top:8px;display:flex;flex-direction:column;gap:8px">
        <label style="display:inline-flex;align-items:center;gap:8px">
          <input id="themeLight" type="radio" name="theme" value="light" /> Light theme
        </label>
        <label style="display:inline-flex;align-items:center;gap:8px">
          <input id="themeDark" type="radio" name="theme" value="dark" /> Dark theme
        </label>
        <label style="display:inline-flex;align-items:center;gap:8px">
          <input id="themePurple" type="radio" name="theme" value="purple" checked /> Purple theme
        </label>
      </div>
    </label>

    <label style="margin-top:12px">Animations
      <div style="margin-top:8px"><label style="display:inline-flex;align-items:center;gap:8px"><input id="animationCheckbox" type="checkbox" checked /> Enable animations</label></div>
    </label>

    <label style="margin-top:12px">Font size
      <div style="margin-top:8px"><input id="fontSizeRange" type="range" min="14" max="20" step="1" value="16" /></div>
    </label>

    <div style="margin-top:20px;display:flex;gap:10px">
      <button id="saveSettings" style="flex:1;padding:10px;border-radius:10px;border:none;background:var(--accent);color:#fff;cursor:pointer;font-weight:600">Save</button>
      <button id="resetSettings" style="flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);cursor:pointer">Reset</button>
    </div>
  </aside>

<script>
  // Elements
  const sidebar = document.getElementById('sidebar');
  const sidebarTrigger = document.getElementById('sidebarTrigger');
  const navItems = Array.from(document.querySelectorAll('.nav-item'));
  const contentArea = document.getElementById('contentArea');
  const pages = {
    new: document.getElementById('newSection'),
    movies: document.getElementById('moviesSection'),
    donate: document.getElementById('donateSection'),
    settings: document.getElementById('settingsSection')
  };

  const moviesGrid = document.getElementById('moviesGrid');
  const cards = () => Array.from(document.querySelectorAll('.movie-card'));
  const modal = document.getElementById('modal');
  const moviePlayer = document.getElementById('moviePlayer');
  const modalClose = document.getElementById('modalClose');
  const search = document.getElementById('search');
  const openSettingsBtn = document.getElementById('openSettingsBtn');
  const settingsDrawer = document.getElementById('settingsDrawer');
  const themeLight = document.getElementById('themeLight');
  const themeDark = document.getElementById('themeDark');
  const themePurple = document.getElementById('themePurple');
  const animationCheckbox = document.getElementById('animationCheckbox');
  const fontSizeRange = document.getElementById('fontSizeRange');
  const saveSettings = document.getElementById('saveSettings');
  const resetSettings = document.getElementById('resetSettings');

  // --- SIDEBAR show/hide behavior ---
  let sidebarTimeout;
  function showSidebar(){
    sidebar.classList.add('visible');
  }
  function hideSidebar(){
    sidebar.classList.remove('visible');
  }

  // open on hover over trigger or the sidebar itself
  sidebarTrigger.addEventListener('mouseenter', () => showSidebar());
  sidebarTrigger.addEventListener('click', () => { // click keeps it open briefly
    showSidebar();
    clearTimeout(sidebarTimeout);
    sidebarTimeout = setTimeout(hideSidebar, 4000);
  });

  sidebar.addEventListener('mouseleave', () => {
    // small delay so users can move cursor
    sidebarTimeout = setTimeout(hideSidebar, 300);
  });
  sidebar.addEventListener('mouseenter', () => {
    clearTimeout(sidebarTimeout);
    showSidebar();
  });

  // Also close sidebar on click outside
  document.addEventListener('click', (e) => {
    if (!sidebar.contains(e.target) && !sidebarTrigger.contains(e.target)) {
      hideSidebar();
    }
  });

  // --- NAV behavior with smooth transitions ---
  navItems.forEach(item => {
    item.addEventListener('click', () => {
      navItems.forEach(i => i.classList.remove('active'));
      item.classList.add('active');
      const target = item.getAttribute('data-target');
      
      // Hide all pages first
      Object.keys(pages).forEach(k => {
        pages[k].classList.add('hidden');
      });
      
      // Show target page with a slight delay for smooth transition
      setTimeout(() => {
        if (pages[target]) {
          pages[target].classList.remove('hidden');
        }
      }, 100);
      
      // close sidebar after selection for clean view
      setTimeout(() => hideSidebar(), 220);
    });

    // Keyboard support
    item.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        item.click();
      }
    });
  });

  // --- Enhanced Movie modal open/close ---
  function openPlayer(src){
    // Add loading state
    const playerWrapper = document.getElementById('playerWrapper');
    playerWrapper.classList.add('loading');
    
    moviePlayer.src = src;
    modal.classList.add('open');
    modal.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden'; // Prevent background scrolling
    
    // Remove loading state after iframe loads
    moviePlayer.addEventListener('load', () => {
      playerWrapper.classList.remove('loading');
    }, { once: true });
    
    // scroll to top for small screens
    window.scrollTo({top:0,behavior:'smooth'});
  }
  
  function closePlayer(){
    modal.classList.remove('open');
    modal.setAttribute('aria-hidden','true');
    moviePlayer.src = '';
    document.body.style.overflow = ''; // Restore scrolling
  }

  modalClose.addEventListener('click', closePlayer);
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closePlayer();
  });

  // Enhanced movie card interactions
  moviesGrid.addEventListener('click', (e) => {
    const card = e.target.closest('.movie-card');
    if (!card) return;
    const src = card.getAttribute('data-src') || '';
    if (src) {
      // Add click feedback
      card.style.transform = 'scale(0.98)';
      setTimeout(() => {
        card.style.transform = '';
        openPlayer(src);
      }, 150);
    }
  });

  // Keyboard support for movie cards
  moviesGrid.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      const card = e.target.closest('.movie-card');
      if (card) {
        e.preventDefault();
        card.click();
      }
    }
  });

  // --- Enhanced Search with better UX ---
  let searchTimeout;
  search.addEventListener('input', () => {
    clearTimeout(searchTimeout);
    const term = search.value.trim().toLowerCase();
    
    // Debounce search for better performance
    searchTimeout = setTimeout(() => {
      cards().forEach(card => {
        const title = card.querySelector('.movie-title').innerText.toLowerCase();
        const matches = title.includes(term);
        
        // Smooth fade transition
        card.style.transition = 'all 0.3s ease';
        card.style.opacity = matches ? '1' : '0.2';
        card.style.transform = matches ? 'scale(1)' : 'scale(0.95)';
        card.style.pointerEvents = matches ? 'auto' : 'none';
        
        // Add/remove a search highlight class
        if (matches && term) {
          card.classList.add('search-match');
        } else {
          card.classList.remove('search-match');
        }
      });
    }, 150);
  });

  // Clear search when empty
  search.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      search.value = '';
      search.dispatchEvent(new Event('input'));
      search.blur();
    }
  });

  // --- Settings drawer toggles & persistence ---
  function applySettingsFromStorage(){
    try{
      const s = JSON.parse(localStorage.getItem('ym_settings') || '{}');
      const theme = s.theme || 'purple';
      
      // Remove all theme classes
      document.body.classList.remove('light', 'dark');
      
      // Apply selected theme
      if (theme === 'light') {
        document.body.classList.add('light');
        themeLight.checked = true;
      } else if (theme === 'dark') {
        document.body.classList.add('dark');
        themeDark.checked = true;
      } else {
        themePurple.checked = true;
      }
      
      if (s.animations === false){
        document.body.classList.add('no-animations');
        animationCheckbox.checked = false;
      } else {
        document.body.classList.remove('no-animations');
        animationCheckbox.checked = true;
      }
      if (s.fontSize){
        document.documentElement.style.fontSize = s.fontSize + 'px';
        fontSizeRange.value = s.fontSize;
      } else {
        fontSizeRange.value = 16;
        document.documentElement.style.fontSize = '16px';
      }
    }catch(e){
      console.warn('could not read settings',e);
    }
  }
  applySettingsFromStorage();

  openSettingsBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    const open = settingsDrawer.classList.toggle('open');
    settingsDrawer.setAttribute('aria-hidden', !open);
  });

  // Close settings drawer when clicking outside
  document.addEventListener('click', (e) => {
    if (!settingsDrawer.contains(e.target) && !openSettingsBtn.contains(e.target)) {
      settingsDrawer.classList.remove('open');
      settingsDrawer.setAttribute('aria-hidden', 'true');
    }
  });

  saveSettings.addEventListener('click', () => {
    const theme = themeLight.checked ? 'light' : themeDark.checked ? 'dark' : 'purple';
    const settings = {
      theme: theme,
      animations: !!animationCheckbox.checked,
      fontSize: parseInt(fontSizeRange.value || 16,10)
    };
    localStorage.setItem('ym_settings', JSON.stringify(settings));
    applySettingsFromStorage();
    
    // Visual feedback
    saveSettings.textContent = 'Saved!';
    setTimeout(() => {
      saveSettings.textContent = 'Save';
    }, 1500);
    
    // close drawer briefly
    settingsDrawer.classList.remove('open');
  });

  resetSettings.addEventListener('click', () => {
    localStorage.removeItem('ym_settings');
    themePurple.checked = true;
    animationCheckbox.checked = true;
    fontSizeRange.value = 16;
    document.documentElement.style.fontSize = '16px';
    document.body.classList.remove('light','dark','no-animations');
    
    // Visual feedback
    resetSettings.textContent = 'Reset!';
    setTimeout(() => {
      resetSettings.textContent = 'Reset';
    }, 1500);
  });

  // immediate live updating when toggles change (nice UX)
  [themeLight, themeDark, themePurple].forEach(radio => {
    radio.addEventListener('change', () => {
      document.body.classList.remove('light', 'dark');
      if (themeLight.checked) {
        document.body.classList.add('light');
      } else if (themeDark.checked) {
        document.body.classList.add('dark');
      }
    });
  });

  animationCheckbox.addEventListener('change', () => {
    if (!animationCheckbox.checked) {
      document.body.classList.add('no-animations');
    } else {
      document.body.classList.remove('no-animations');
    }
  });

  fontSizeRange.addEventListener('input', () => {
    document.documentElement.style.fontSize = fontSizeRange.value + 'px';
  });

  // --- keyboard shortcuts ---
  document.addEventListener('keydown', (e) => {
    // Escape to close modal or settings
    if (e.key === 'Escape') {
      if (modal.classList.contains('open')) {
        closePlayer();
      } else if (settingsDrawer.classList.contains('open')) {
        settingsDrawer.classList.remove('open');
        settingsDrawer.setAttribute('aria-hidden', 'true');
      }
    }
    
    // Quick navigation with number keys
    if (e.key >= '1' && e.key <= '4' && !e.target.matches('input')) {
      const index = parseInt(e.key) - 1;
      if (navItems[index]) {
        navItems[index].click();
      }
    }
    
    // Focus search with '/' key
    if (e.key === '/' && !e.target.matches('input')) {
      e.preventDefault();
      search.focus();
    }
  });

  // --- Donate button (demo) with better UX ---
  document.getElementById('donateBtn').addEventListener('click', function() {
    this.style.transform = 'scale(0.95)';
    setTimeout(() => {
      this.style.transform = '';
      alert('Thanks for wanting to donate! 💖\nReplace this with your actual payment link or modal.');
    }, 150);
  });

  // --- Initialize app ---
  window.addEventListener('load', () => {
    applySettingsFromStorage();
    
    // default to New/Updates visible
    Object.keys(pages).forEach(k => pages[k].classList.add('hidden'));
    pages.new.classList.remove('hidden');
    
    // Add a subtle entrance animation for movie cards
    setTimeout(() => {
      cards().forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        setTimeout(() => {
          card.style.transition = 'all 0.5s ease-out';
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, index * 100);
      });
    }, 500);
  });

  // Add some CSS for the pulse animation and search matches
  const style = document.createElement('style');
  style.textContent = `
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    .movie-card.search-match {
      box-shadow: 0 0 0 2px var(--accent) !important;
    }
  `;
  document.head.appendChild(style);
</script>
</body>
</html>
