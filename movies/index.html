<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üé¨ YACHTS MOVIES</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<style>
  :root{
    --bg-dark:#0a0014;
    --panel-dark:#12001f;
    --accent:#b84dff;
    --accent-strong:#a200ff;
    --muted:#ccc;
    --light-bg:#f5f5f7;
    --light-panel:#fff;
    --light-text:#0b0b0b;
    --card-dark:#12001f;
    --card-light:#ffffff;
    --glass: rgba(255,255,255,0.04);
  }

  /* Base */
  html,body{height:100%;margin:0;font-family:"Poppins",sans-serif;background:var(--bg-dark);color:#fff;transition:background 0.35s,color 0.35s}
  body.light{background:var(--light-bg);color:var(--light-text)}

  /* Hidden sidebar trigger (small visible strip) */
  .sidebar-trigger{
    position:fixed;left:0;top:40%;width:16px;height:120px;background:linear-gradient(180deg,var(--accent),var(--accent-strong));
    border-top-right-radius:8px;border-bottom-right-radius:8px;z-index:1600;cursor:pointer;
    box-shadow:2px 2px 14px rgba(0,0,0,0.35);opacity:0.85;
  }
  body.light .sidebar-trigger{box-shadow:2px 2px 10px rgba(0,0,0,0.08)}

  /* Sidebar - slides out when hovered or when .visible class added by JS */
  .sidebar{
    position:fixed;left:-240px;top:0;height:100vh;width:240px;padding:18px;background:linear-gradient(180deg,#1a0033,#0a0014);
    box-shadow:2px 0 25px rgba(150,0,255,0.25);z-index:1700;transition:left .32s cubic-bezier(.2,.9,.2,1);
    display:flex;flex-direction:column;gap:12px;
  }
  .sidebar.visible{left:0}
  body.light .sidebar{background:linear-gradient(180deg,#fff,#f0f0f0);box-shadow:2px 0 20px rgba(0,0,0,0.08)}
  .sidebar .brand{font-family:"Orbitron",sans-serif;font-size:1.3rem;color:var(--accent-strong);text-shadow:0 0 8px rgba(162,0,255,0.15)}
  .nav-item{display:flex;align-items:center;gap:12px;padding:8px 6px;border-radius:8px;color:var(--muted);text-decoration:none;cursor:pointer}
  .nav-item:hover{color:#fff;background:rgba(255,255,255,0.03)}
  body.light .nav-item{color:#333}
  .nav-item .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 8px rgba(184,77,255,0.3)}
  .nav-item.active{background:linear-gradient(90deg,rgba(184,77,255,0.12),rgba(162,0,255,0.06));color:#fff}

  /* Main area */
  .main{
    margin-left:20px; /* small margin so sidebar-trigger doesn't overlap content */
    padding:20px;transition:margin-left .3s;
  }
  .header{
    display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px;
  }
  .brand-title{display:flex;align-items:center;gap:12px}
  .brand-title h1{font-family:"Orbitron",sans-serif;margin:0;font-size:1.6rem;text-shadow:0 0 12px rgba(184,77,255,0.12)}
  body.light .brand-title h1{text-shadow:none;color:var(--light-text)}
  .controls{display:flex;align-items:center;gap:10px}
  input.search{padding:8px 12px;border-radius:22px;border:none;outline:none;background:var(--panel-dark);color:#fff;box-shadow:0 0 8px rgba(180,0,255,0.12)}
  body.light input.search{background:#eee;color:var(--light-text);box-shadow:none}

  .icon-btn{background:transparent;border:0;color:inherit;font-size:1.1rem;cursor:pointer;padding:8px;border-radius:8px}
  .icon-btn:hover{background:rgba(255,255,255,0.03)}
  body.light .icon-btn:hover{background:rgba(0,0,0,0.03)}

  /* Big content area - single Movies list (removed old sections) */
  .movies-grid{display:flex;flex-wrap:wrap;gap:14px;margin-top:6px}
  .movie-card{
    width:180px;background:var(--card-dark);border-radius:12px;overflow:hidden;cursor:pointer;
    box-shadow:0 6px 20px rgba(0,0,0,0.45);transition:transform .28s,box-shadow .28s,opacity .25s;
    display:flex;flex-direction:column;align-items:stretch;text-align:center;
  }
  body.light .movie-card{background:var(--card-light);box-shadow:0 6px 20px rgba(20,20,20,0.06)}
  .movie-card img{width:100%;height:260px;object-fit:cover;display:block;border-bottom:1px solid rgba(255,255,255,0.03)}
  body.light .movie-card img{border-bottom:1px solid rgba(0,0,0,0.06)}
  .movie-info{padding:10px}
  .movie-title{font-weight:600;font-size:0.95rem;color:#fff}
  body.light .movie-title{color:var(--light-text)}
  .rating{font-size:0.9rem;color:gold;margin-top:6px}

  .movie-card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(168,77,255,0.14)}
  body.no-animations .movie-card, body.no-animations .sidebar, body.no-animations .modal{transition:none;animation:none}
  .hidden{display:none !important}

  /* Modal player */
  .modal{
    position:fixed;inset:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:2000;opacity:0;pointer-events:none;
    transition:opacity .2s;
  }
  .modal.open{opacity:1;pointer-events:auto}
  .modal .player{
    width:88%;max-width:1100px;height:64%;background:#000;border-radius:10px;overflow:hidden;box-shadow:0 30px 60px rgba(0,0,0,0.7);
  }
  .modal iframe{width:100%;height:100%;border:0}
  .modal .close{position:absolute;right:26px;top:18px;font-size:28px;color:#fff;cursor:pointer;text-shadow:0 0 10px rgba(162,0,255,0.6)}
  body.light .modal .close{color:#111;text-shadow:none}

  /* Settings drawer (right) */
  .settings-drawer{
    position:fixed;right:-320px;top:60px;width:300px;background:var(--panel-dark);padding:18px;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,0.6);z-index:2100;transition:right .34s;
  }
  .settings-drawer.open{right:18px}
  body.light .settings-drawer{background:#fff;box-shadow:0 8px 30px rgba(0,0,0,0.06)}
  .settings-drawer h3{font-family:"Orbitron",sans-serif;margin:0 0 8px 0}
  .settings-drawer label{display:block;margin-top:10px;font-size:0.95rem;color:var(--muted)}
  .settings-drawer input[type="range"]{width:100%}

  /* Small responsive */
  @media (max-width:900px){
    .movie-card{width:45%}
    .sidebar{width:200px}
  }
  @media (max-width:600px){
    .movie-card{width:100%}
    .sidebar{display:none}
    .sidebar-trigger{display:none}
    .main{margin-left:0;padding:12px}
  }

  /* subtle accent glow for clickable icons */
  .accent-glow{box-shadow:0 0 18px rgba(184,77,255,0.09) inset}
</style>
</head>
<body>
  <!-- sidebar trigger (thin visible strip) -->
  <div class="sidebar-trigger" id="sidebarTrigger" title="Open menu"></div>

  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar" aria-label="Main navigation">
    <div class="brand">YACHTS MOVIES</div>

    <div class="nav-item active" data-target="new">
      <div class="dot"></div>
      <div>New / Updates</div>
    </div>

    <div class="nav-item" data-target="movies">
      <div class="dot"></div>
      <div>Movies</div>
    </div>

    <div class="nav-item" data-target="donate">
      <div class="dot"></div>
      <div>Donate</div>
    </div>

    <div class="nav-item" data-target="settings">
      <div class="dot"></div>
      <div>Settings</div>
    </div>

    <div style="flex:1"></div>
    <div style="font-size:0.85rem;color:var(--muted);">v1 ‚Ä¢ local demo</div>
  </nav>

  <!-- Main content -->
  <main class="main" id="main">
    <header class="header">
      <div class="brand-title">
        <h1>YACHTS MOVIES</h1>
      </div>

      <div class="controls">
        <input class="search" id="search" placeholder="Search movies..." />
        <button class="icon-btn" id="openSettingsBtn" title="Open settings">‚öô</button>
      </div>
    </header>

    <!-- Top area: dynamic content (New, Movies, Donate, Settings) -->
    <section id="contentArea">
      <!-- NEW / UPDATES -->
      <div id="newSection" class="page">
        <h2 style="margin:0 0 8px;font-family:Orbitron;">New / Updates</h2>
        <p style="color:var(--muted);margin-top:6px">Latest uploads, fixes, and site notes.</p>
        <ul style="margin-top:12px;color:var(--muted);line-height:1.6">
          <li>New: Jurassic Park Rebirth (1080p) ‚Äî uploaded.</li>
          <li>UI: Light/Dark theme + animations toggle added.</li>
          <li>Now: Sidebar auto-hide for clean viewing, hover left edge to open.</li>
        </ul>
      </div>

      <!-- MOVIES -->
      <div id="moviesSection" class="page hidden">
        <h2 style="margin:0 0 8px;font-family:Orbitron;">Movies</h2>
        <p style="color:var(--muted);margin-top:6px">Click a card to open the player.</p>

        <div class="movies-grid" id="moviesGrid">
          <!-- Movie cards restored from your list -->
          <div class="movie-card" data-src="https://mega.nz/embed/TNUg1JxQ#MUoDG9AqW7AV-JoTDpqPwZDfKcvp-34xacTCyXKy2Z8">
            <img src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.impawards.com%2F2025%2Fposters%2Fjurassic_world_rebirth_ver6.jpg&f=1&nofb=1&ipt=72f2a3274d1d9183f2ef28d223ca09c6e2346dc7a26e2d1bbfd9aa2358d69e18" alt="Jurassic Park Rebirth" />
            <div class="movie-info">
              <div class="movie-title">Jurassic Park Rebirth</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/HFslzYKB#ESA1jEoAV7uoSKri7KRPp62SCBAGkm-SIrAIkca4gnE">
            <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwallpapercave.com%2Fwp%2Fwp14534908.jpg&f=1&nofb=1&ipt=3c0c8021f2a3be0ae2846999f9627161757f38d892c79bee50b51db42177a741" alt="Minecraft Movie" />
            <div class="movie-info">
              <div class="movie-title">A Minecraft Movie</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/HBsAwRTA#KUm8WifABPMvVx9zn6OTE8WNFjoStXrZNzsgMYqacUs">
            <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.themoviedb.org%2Ft%2Fp%2Foriginal%2FhCM8E8YKzJTkZ9Ts574aNZOiJLL.jpg&f=1&nofb=1&ipt=7c6545c152fc3ed384755eb4f0f34b414ec62ecdba53295d38c03f3aa8f2a42c" alt="The Curse of Black Pearl" />
            <div class="movie-info">
              <div class="movie-title">The Curse of Black Pearl</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/bA0kjKrY#06CFHtUrDmoEfFDtazbcoHnhutBQjHxWsy98vpjVzr8">
            <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fm.media-amazon.com%2Fimages%2FM%2FMV5BMTkyMjQ4ODk1NF5BMl5BanBnXkFtZTcwMjcxMTk2Mw%40%40._V1_FMjpg_UY2048_.jpg&f=1&nofb=1&ipt=3550c9b10fdbb9527fe552a76d24814bbbfad3443fe25c47b871cbfa98225b98" alt="The Dark Knight 2008" />
            <div class="movie-info">
              <div class="movie-title">The Dark Knight 2008</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/edcSyDrQ#SV-oMjMZJJQvNhQ65vapF2WAHGGGjXj6kcUTxzUNnqI">
            <img src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fjaysbrickblog.com%2Fwp-content%2Fuploads%2F2014%2F03%2FThe-LEGO-Movie-Poster-2.jpg&f=1&nofb=1&ipt=fbf0278035ebdcf80169dc0a051b5746375a7f70fa2f0c86b4a1a687b6c1aab0" alt="The Lego Movie" />
            <div class="movie-info">
              <div class="movie-title">The Lego Movie</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
            </div>
          </div>

          <!-- Adventure & Fantasy restored -->
          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE3#somehashhere">
            <img src="https://upload.wikimedia.org/wikipedia/en/d/d7/Harry_Potter_and_the_Sorcerer%27s_Stone_poster.jpg" alt="Harry Potter and the Sorcerer's Stone" />
            <div class="movie-info">
              <div class="movie-title">Harry Potter and the Sorcerer's Stone</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE4#somehashhere">
            <img src="https://upload.wikimedia.org/wikipedia/en/7/79/Percy_Jackson_&_the_Olympians_-_The_Lightning_Thief.jpg" alt="Percy Jackson" />
            <div class="movie-info">
              <div class="movie-title">Percy Jackson &amp; the Olympians</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE5#somehashhere">
            <img src="https://upload.wikimedia.org/wikipedia/en/c/cf/The_Maze_Runner_film_poster.jpg" alt="The Maze Runner" />
            <div class="movie-info">
              <div class="movie-title">The Maze Runner</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE6#somehashhere">
            <img src="https://upload.wikimedia.org/wikipedia/en/c/c6/Doctor_Strange_in_the_Multiverse_of_Madness_poster.jpg" alt="Doctor Strange" />
            <div class="movie-info">
              <div class="movie-title">Doctor Strange: Multiverse</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
            </div>
          </div>

          <div class="movie-card" data-src="https://mega.nz/embed/EXAMPLE7#somehashhere">
            <img src="https://upload.wikimedia.org/wikipedia/en/1/14/The_Chronicles_of_Narnia_The_Lion_the_Witch_and_the_Wardrobe_poster.jpg" alt="Narnia" />
            <div class="movie-info">
              <div class="movie-title">The Chronicles of Narnia</div>
              <div class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
        </div>
      </div>

      <!-- DONATE -->
      <div id="donateSection" class="page hidden">
        <h2 style="margin:0 0 8px;font-family:Orbitron;">Donate</h2>
        <p style="color:var(--muted);margin-top:6px">Support the site ‚Äî any amount helps keep hosting alive.</p>
        <div style="margin-top:12px">
          <button id="donateBtn" style="padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),var(--accent-strong));color:#fff;cursor:pointer">Donate</button>
        </div>
      </div>

      <!-- SETTINGS (inline info also available via settings drawer) -->
      <div id="settingsSection" class="page hidden">
        <h2 style="margin:0 0 8px;font-family:Orbitron;">Settings</h2>
        <p style="color:var(--muted);margin-top:6px">Open the settings drawer (‚öô) or use the sidebar Settings link.</p>
      </div>
    </section>
  </main>

  <!-- Modal player -->
  <div class="modal" id="modal" role="dialog" aria-hidden="true">
    <div class="player" id="playerWrapper">
      <iframe id="moviePlayer" allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups"></iframe>
    </div>
    <div class="close" id="modalClose" title="Close player">&times;</div>
  </div>

  <!-- Settings drawer -->
  <aside class="settings-drawer" id="settingsDrawer" aria-hidden="true">
    <h3>Settings</h3>

    <label>Theme
      <div style="margin-top:8px">
        <label style="display:inline-flex;align-items:center;gap:8px"><input id="themeCheckbox" type="checkbox" /> Light theme</label>
      </div>
    </label>

    <label style="margin-top:12px">Animations
      <div style="margin-top:8px"><label style="display:inline-flex;align-items:center;gap:8px"><input id="animationCheckbox" type="checkbox" checked /> Enable animations</label></div>
    </label>

    <label style="margin-top:12px">Font size
      <div style="margin-top:8px"><input id="fontSizeRange" type="range" min="14" max="20" step="1" value="16" /></div>
    </label>

    <div style="margin-top:14px;display:flex;gap:8px">
      <button id="saveSettings" style="flex:1;padding:8px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer">Save</button>
      <button id="resetSettings" style="flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);cursor:pointer">Reset</button>
    </div>
  </aside>

<script>
  // Elements
  const sidebar = document.getElementById('sidebar');
  const sidebarTrigger = document.getElementById('sidebarTrigger');
  const navItems = Array.from(document.querySelectorAll('.nav-item'));
  const contentArea = document.getElementById('contentArea');
  const pages = {
    new: document.getElementById('newSection'),
    movies: document.getElementById('moviesSection'),
    donate: document.getElementById('donateSection'),
    settings: document.getElementById('settingsSection')
  };

  const moviesGrid = document.getElementById('moviesGrid');
  const cards = () => Array.from(document.querySelectorAll('.movie-card'));
  const modal = document.getElementById('modal');
  const moviePlayer = document.getElementById('moviePlayer');
  const modalClose = document.getElementById('modalClose');
  const search = document.getElementById('search');
  const openSettingsBtn = document.getElementById('openSettingsBtn');
  const settingsDrawer = document.getElementById('settingsDrawer');
  const themeCheckbox = document.getElementById('themeCheckbox');
  const animationCheckbox = document.getElementById('animationCheckbox');
  const fontSizeRange = document.getElementById('fontSizeRange');
  const saveSettings = document.getElementById('saveSettings');
  const resetSettings = document.getElementById('resetSettings');

  // --- SIDEBAR show/hide behavior ---
  let sidebarTimeout;
  function showSidebar(){
    sidebar.classList.add('visible');
  }
  function hideSidebar(){
    sidebar.classList.remove('visible');
  }

  // open on hover over trigger or the sidebar itself
  sidebarTrigger.addEventListener('mouseenter', () => showSidebar());
  sidebarTrigger.addEventListener('click', () => { // click keeps it open briefly
    showSidebar();
    clearTimeout(sidebarTimeout);
    sidebarTimeout = setTimeout(hideSidebar, 4000);
  });

  sidebar.addEventListener('mouseleave', () => {
    // small delay so users can move cursor
    sidebarTimeout = setTimeout(hideSidebar, 300);
  });
  sidebar.addEventListener('mouseenter', () => {
    clearTimeout(sidebarTimeout);
    showSidebar();
  });

  // Also close sidebar on click outside
  document.addEventListener('click', (e) => {
    if (!sidebar.contains(e.target) && !sidebarTrigger.contains(e.target)) {
      hideSidebar();
    }
  });

  // --- NAV behavior ---
  navItems.forEach(item => {
    item.addEventListener('click', () => {
      navItems.forEach(i => i.classList.remove('active'));
      item.classList.add('active');
      const target = item.getAttribute('data-target');
      // show/hide pages
      Object.keys(pages).forEach(k => pages[k].classList.add('hidden'));
      if (pages[target]) pages[target].classList.remove('hidden');
      // close sidebar after selection for clean view
      setTimeout(() => hideSidebar(), 220);
    });
  });

  // --- Movie modal open/close ---
  function openPlayer(src){
    moviePlayer.src = src;
    modal.classList.add('open');
    modal.setAttribute('aria-hidden','false');
    // scroll to top for small screens
    window.scrollTo({top:0,behavior:'smooth'});
  }
  function closePlayer(){
    modal.classList.remove('open');
    modal.setAttribute('aria-hidden','true');
    moviePlayer.src = '';
  }
  modalClose.addEventListener('click', closePlayer);
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closePlayer();
  });
  // attach click to all current and future movie cards (delegate)
  moviesGrid.addEventListener('click', (e) => {
    const card = e.target.closest('.movie-card');
    if (!card) return;
    const src = card.getAttribute('data-src') || '';
    if (src) openPlayer(src);
  });

  // --- Search ---
  search.addEventListener('input', () => {
    const term = search.value.trim().toLowerCase();
    cards().forEach(card => {
      const title = card.querySelector('.movie-title').innerText.toLowerCase();
      card.style.opacity = title.includes(term) ? '1' : '0.15';
      card.style.pointerEvents = title.includes(term) ? 'auto' : 'none';
    });
  });

  // --- Settings drawer toggles & persistence ---
  function applySettingsFromStorage(){
    try{
      const s = JSON.parse(localStorage.getItem('ym_settings') || '{}');
      if (s.theme === 'light') {
        document.body.classList.add('light');
        themeCheckbox.checked = true;
      } else {
        document.body.classList.remove('light');
        themeCheckbox.checked = false;
      }
      if (s.animations === false){
        document.body.classList.add('no-animations');
        animationCheckbox.checked = false;
      } else {
        document.body.classList.remove('no-animations');
        animationCheckbox.checked = true;
      }
      if (s.fontSize){
        document.documentElement.style.fontSize = s.fontSize + 'px';
        fontSizeRange.value = s.fontSize;
      } else {
        fontSizeRange.value = 16;
        document.documentElement.style.fontSize = '16px';
      }
    }catch(e){
      console.warn('could not read settings',e);
    }
  }
  applySettingsFromStorage();

  openSettingsBtn.addEventListener('click', () => {
    const open = settingsDrawer.classList.toggle('open');
    settingsDrawer.setAttribute('aria-hidden', !open);
  });

  saveSettings.addEventListener('click', () => {
    const settings = {
      theme: themeCheckbox.checked ? 'light' : 'dark',
      animations: !!animationCheckbox.checked,
      fontSize: parseInt(fontSizeRange.value || 16,10)
    };
    localStorage.setItem('ym_settings', JSON.stringify(settings));
    applySettingsFromStorage();
    // close drawer briefly
    settingsDrawer.classList.remove('open');
  });

  resetSettings.addEventListener('click', () => {
    localStorage.removeItem('ym_settings');
    themeCheckbox.checked = false;
    animationCheckbox.checked = true;
    fontSizeRange.value = 16;
    document.documentElement.style.fontSize = '16px';
    document.body.classList.remove('light','no-animations');
  });

  // immediate live updating when toggles change (nice UX)
  themeCheckbox.addEventListener('change', () => {
    if (themeCheckbox.checked) document.body.classList.add('light'); else document.body.classList.remove('light');
  });
  animationCheckbox.addEventListener('change', () => {
    if (!animationCheckbox.checked) document.body.classList.add('no-animations'); else document.body.classList.remove('no-animations');
  });
  fontSizeRange.addEventListener('input', () => {
    document.documentElement.style.fontSize = fontSizeRange.value + 'px';
  });

  // --- keyboard escape to close modal ---
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      if (modal.classList.contains('open')) closePlayer();
      if (settingsDrawer.classList.contains('open')) settingsDrawer.classList.remove('open');
    }
  });

  // --- Donate button (demo) ---
  document.getElementById('donateBtn').addEventListener('click', () => {
    alert('Thanks for wanting to donate! Replace this with your payment link or modal.');
  });

  // Ensure existing settings are applied on load
  window.addEventListener('load', () => {
    applySettingsFromStorage();
    // default to New/Updates visible
    Object.keys(pages).forEach(k => pages[k].classList.add('hidden'));
    pages.new.classList.remove('hidden');
  });

  // Accessibility: ensure nav keyboard accessible
  navItems.forEach((it, idx) => it.setAttribute('tabindex','0'));

</script>
</body>
</html>
